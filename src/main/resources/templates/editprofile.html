<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <div th:replace="fragments/header :: header-css"/>
</head>
<body>

<div class="mycontainer">

    <div th:replace="fragments/header :: header"/>

    <div class="container">


        <br/>
        <div class="row">
            <div class="col-12">
                <h1><span th:text="${profile.getFirstName()}+' '+${profile.getLastName()}"></span></h1>
            </div>

        </div>
    </div>

    <div class="container">
        <div class="row">

            <div class="col-4">

                <div class="card" style="width: 18rem;">
                    <div class="card-body">
                        <p class="card-text"><img title="profile image" class="img-circle img-responsive"
                                                  th:src="'https://www.gravatar.com/avatar/'+${profile.getEmailHash()}+'?s=256&d=robohash'"
                                                  style="border-radius: 50%"></p>
                        <div class="text-center"><a href="https://en.gravatar.com/support/activating-your-account/"
                                                    class="btn btn-success text-center card-link"
                                                    style="margin: 0 auto;" target="_blank">Change Photo</a></div>
                    </div>
                </div>
            </div>
            <div class="col-8">
                <form method="POST">
                    <fieldset>

                        <div class="form-group">
                            <label for="exampleInputEmail1">Email address</label>
                            <input type="email" class="form-control" id="exampleInputEmail1"
                                   aria-describedby="emailHelp" placeholder="Enter email" th:value="${profile.getEmail()}" name="email">
                            <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone
                                else.
                            </small>
                            <div
                                 class="invalid-feedback" role="alert"
                                 th:text="${alreadyRegisteredMessage}" style="display: block"></div>

                        </div>
                        <div class="form-group">
                            <label for="firstname">First Name</label>
                            <input type="text" class="form-control" id="firstname" name="firstname"
                            placeholder="First Name" th:value="${profile.getFirstName()}">
                        </div>
                        <div class="form-group">
                            <label for="lastname">Last Name</label>
                            <input type="text" class="form-control" id="lastname" name="lastname"
                                   placeholder="Last Name" th:value="${profile.getLastName()}">
                        </div>
                    </fieldset>
                    <button type="submit" class="btn btn-primary" style="float:left;" >Update Profile</button>
                    </fieldset>
                </form>

                <form th:action="'/profile/'+${profile.getUsername()}+'/delete'" method="POST">
                    <button type="submit" class="btn btn-danger" style="float:right;" >Delete Profile</button>
                </form>
            </div>


        </div>
    </div>
</div>


</div>
<!-- /.container -->
<div th:replace="fragments/footer :: footer"/>

</body>
</html>